<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scraper Dashboard</title>
    <link rel="stylesheet" href="static/styles.css">
</head>
<body>
    <h1>Scraper Dashboard</h1>
    <button id="start-rebuy">Start Rebuy</button>
    <button id="start-kleinanzeigen">Start Kleinanzeigen</button>
    <button id="start-vinted">Start Vinted</button>

    <div id="progress-container">
        <div id="rebuy-progress">Rebuy Progress: <span id="rebuy-progress-value">0</span>%</div>
        <div id="kleinanzeigen-progress">Kleinanzeigen Progress: <span id="kleinanzeigen-progress-value">0</span>%</div>
        <div id="vinted-progress">Vinted Progress: <span id="vinted-progress-value">0</span>%</div>
    </div>

    <script src="static/scripts.js"></script>
    <script>
        // static/scripts.js
document.getElementById('start-rebuy').addEventListener('click', () => {
    fetch('/start_rebuy', { method: 'POST' });
    updateProgress();
});

document.getElementById('start-kleinanzeigen').addEventListener('click', () => {
    fetch('/start_kleinanzeigen', { method: 'POST' });
    updateProgress();
});

document.getElementById('start-vinted').addEventListener('click', () => {
    fetch('/start_vinted', { method: 'POST' });
    updateProgress();
});

function updateProgress() {
    fetch('/progress')
        .then(response => response.json())
        .then(data => {
            document.getElementById('rebuy-progress-value').textContent = data.progress;
        });

    fetch('/kleinanzeigen_progress')
        .then(response => response.json())
        .then(data => {
            document.getElementById('kleinanzeigen-progress-value').textContent = data.progress;
        });

    fetch('/vinted_progress')
        .then(response => response.json())
        .then(data => {
            document.getElementById('vinted-progress-value').textContent = data.progress;
        });
}

    </script>
</body>
</html>
